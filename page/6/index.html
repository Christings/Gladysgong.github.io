<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"gongyanli.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Up in the wind!">
<meta property="og:type" content="website">
<meta property="og:title" content="茉莉Python">
<meta property="og:url" content="http://gongyanli.com/page/6/index.html">
<meta property="og:site_name" content="茉莉Python">
<meta property="og:description" content="Up in the wind!">
<meta property="og:locale">
<meta property="article:author" content="Lilly">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://gongyanli.com/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>茉莉Python</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">茉莉Python</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">voidqueens@hotmail.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/TensorFlow-6-TensorBoard/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/TensorFlow-6-TensorBoard/" class="post-title-link" itemprop="url">TensorFlow-6.TensorBoard</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-18 23:40:54" itemprop="dateCreated datePublished" datetime="2020-02-18T23:40:54+08:00">2020-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-18 21:13:55" itemprop="dateModified" datetime="2020-09-18T21:13:55+08:00">2020-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习和深度学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/TensorFlow/" itemprop="url" rel="index"><span itemprop="name">TensorFlow</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>TensorFlow 使用 TensorBoard 来提供计算图形的图形图像。这使得理解、调试和优化复杂的神经网络程序变得很方便。TensorBoard 也可以提供有关网络执行的量化指标。它读取 TensorFlow 事件文件，其中包含运行 TensorFlow 会话期间生成的摘要数据。</p>
<h2 id="一、步骤"><a href="#一、步骤" class="headerlink" title="一、步骤"></a>一、步骤</h2><pre><code>确定想要的 OP 摘要
loss=tf...

tf.summary.scalar(&#39;loss&#39;,loss)

tf.summary.histogram 可视化梯度、权重或特定层的输出分布</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/TensorFlow-5-%E7%9F%A9%E9%98%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/TensorFlow-5-%E7%9F%A9%E9%98%B5/" class="post-title-link" itemprop="url">TensorFlow-5.矩阵</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-18 23:19:19" itemprop="dateCreated datePublished" datetime="2020-02-18T23:19:19+08:00">2020-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-18 21:13:51" itemprop="dateModified" datetime="2020-09-18T21:13:51+08:00">2020-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习和深度学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/TensorFlow/" itemprop="url" rel="index"><span itemprop="name">TensorFlow</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>代码：4-matrix.ipynb</p>
<p>矩阵运算，例如执行乘法、加法和减法，是任何神经网络中信号传播的重要操作。通常在计算中需要随机矩阵、零矩阵、一矩阵或者单位矩阵。</p>
<p>所有加法、减、除、乘（按元素相乘）、取余等矩阵的算术运算都要求两个张量矩阵是相同的数据类型，否则就会产生错误。</p>
<p>可以使用 tf.cast() 将张量从一种数据类型转换为另一种数据类型。</p>
<p>如果在整数张量之间进行除法，最好使用 tf.truediv(a，b)，因为它首先将整数张量转换为浮点类，然后再执行按位相除。</p>
<pre><code>import tensorflow as tf

m1=tf.eye(5)
m2=tf.Variable(tf.eye(10))
m3=tf.Variable(tf.random.normal([5,10]))
m4=tf.matmul(m3,m2)
m5=tf.Variable(tf.random.uniform([5,10],0,2,dtype=tf.int32))
m6=tf.cast(m5,dtype=tf.float32)
m7=tf.add(m1,tf.ones(5))
m8=m1-tf.ones(5)</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/TensorFlow-4-%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E5%92%8C%E5%8D%A0%E4%BD%8D%E7%AC%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/TensorFlow-4-%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E5%92%8C%E5%8D%A0%E4%BD%8D%E7%AC%A6/" class="post-title-link" itemprop="url">TensorFlow-4.常量、变量和占位符</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-18 21:42:33" itemprop="dateCreated datePublished" datetime="2020-02-18T21:42:33+08:00">2020-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-18 21:16:27" itemprop="dateModified" datetime="2020-09-18T21:16:27+08:00">2020-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习和深度学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/TensorFlow/" itemprop="url" rel="index"><span itemprop="name">TensorFlow</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>文档：<a target="_blank" rel="noopener" href="https://www.tensorflow.org/api_docs/python/">https://www.tensorflow.org/api_docs/python/</a><br>代码：3-var.ipynb</p>
<p>张量，可理解为一个 n 维矩阵，所有类型的数据，包括标量、矢量和矩阵等都是特殊类型的张量。</p>
<p>TensorFlow 支持以下三种类型的张量：</p>
<p><img src="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/tensor.png" alt="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/tensor.png"></p>
<p>1、常量：常量是其值不能改变的张量。</p>
<p>2、变量：当一个量在会话中的值需要更新时，使用变量来表示。例如，在神经网络中，权重需要在训练期间更新，可以通过将权重声明为变量来实现。变量在使用前需要被显示初始化。另外需要注意的是，常量存储在计算图的定义中，每次加载图时都会加载相关变量。换句话说，它们是占用内存的。另一方面，变量又是分开存储的。它们可以存储在参数服务器上。</p>
<p>3、占位符：用于将值输入 TensorFlow 图中。它们可以和 feed_dict 一起使用来输入数据。在训练神经网络时，它们通常用于提供新的训练样本。在会话中运行计算图时，可以为占位符赋值。这样在构建一个计算图时不需要真正地输入数据。需要注意的是，占位符不包含任何数据，因此不需要初始化它们。</p>
<h2 id="一、常量"><a href="#一、常量" class="headerlink" title="一、常量"></a>一、常量</h2><pre><code>import tensorflow as tf

t1=tf.constant(4)
t2=tf.constant([1,2,3])

# tf.zeros([M,N],tf.dtype)
# 创建一个形如 [M，N] 的零元素矩阵，数据类型（dtype）可以是 int32、float32 等
t3=tf.zeros([2,3],tf.int32)

t4=tf.zeros_like(t2)
t5=tf.ones_like(t2)

# 创建一个所有元素都设为 1 的张量
# tf.ones([M,N],tf.dtype)
t6=tf.ones([2,3],tf.int32)

# 在一定范围内生成一个从初值到终值等差排布的序列：tf.linspace(start,stop,num)
# 相应的值为 (stop-start)/(num-1)
t7=tf.linspace(2.0,5.0,5)

# 从开始（默认值=0）生成一个数字序列，增量为 delta（默认值=1），直到终值（但不包括终值）：tf.range(start,limit,delta)
t8=tf.range(10)



# TensorFlow 允许创建具有不同分布的随机张量：
# 1.使用以下语句创建一个具有一定均值（默认值=0.0）和标准差（默认值=1.0）、形状为 [M，N] 的正态分布随机数组：
# t9=tf.random_normal([2,3],mead=2.0,stddev=4.0,seed=12)
t9=tf.random.normal([2,3],mean=2.0,stddev=4.0,seed=12) # 2.0语法

# 参数:
# shape: 一维的张量，也是输出的张量。
# mean: 正态分布的均值。
# stddev: 正态分布的标准差。
# dtype: 输出的类型。
# seed: 一个整数，当设置之后，每次生成的随机数都一样。
# name: 操作的名字。
# tf.random.normal(shape, mean=0.0, stddev=1.0, dtype=tf.float32, seed=None, name=None)

# 2.创建一个具有一定均值（默认值=0.0）和标准差（默认值=1.0）、形状为 [M，N] 的截尾正态分布随机数组:
t10=tf.random.truncated_normal([1,5],stddev=2,seed=12)

# 3.要在种子的 [minval（default=0），maxval] 范围内创建形状为 [M，N] 的给定伽马分布随机数组:
t11=tf.random.uniform([2,3],maxval=4,seed=12)

# 4.要将给定的张量随机裁剪为指定的大小:
# t12=tf.random_crop(t11,[2,5],seed=12) # ??? 随机从张量 t11 中裁剪出一个大小为 [2，5] 的张量
t13=tf.random.shuffle(t11) # 以随机的顺序来呈现训练样本


# 5.随机生成的张量受初始种子值的影响。要在多次运行或会话中获得相同的随机数，应该将种子设置为一个常数值。当使用大量的随机张量时，可以使用 tf.set_random_seed() 来为所有随机产生的张量设置种子
t14=tf.compat.v1.set_random_seed(54) # 种子只能有整数值。</code></pre>
<pre><code>tf.Tensor(4, shape=(), dtype=int32)
tf.Tensor([1 2 3], shape=(3,), dtype=int32)
tf.Tensor(
[[0 0 0]
 [0 0 0]], shape=(2, 3), dtype=int32)
tf.Tensor([0 0 0], shape=(3,), dtype=int32)
tf.Tensor([1 1 1], shape=(3,), dtype=int32)
tf.Tensor(
[[1 1 1]
 [1 1 1]], shape=(2, 3), dtype=int32)
tf.Tensor([2.   2.75 3.5  4.25 5.  ], shape=(5,), dtype=float32)
tf.Tensor([0 1 2 3 4 5 6 7 8 9], shape=(10,), dtype=int32)
tf.Tensor(
[[-2.2231169 -0.7829838 -2.3765397]
 [-2.0533948  5.207492   4.025979 ]], shape=(2, 3), dtype=float32)
tf.Tensor([[-1.9783968   0.05632517 -3.7346437  -0.21532871 -1.6093115 ]], shape=(1, 5), dtype=float32)
tf.Tensor(
[[0.94491434 2.346364   0.2467246 ]
 [2.254159   3.8856897  0.30119896]], shape=(2, 3), dtype=float32)
tf.Tensor(
[[2.254159   3.8856897  0.30119896]
 [0.94491434 2.346364   0.2467246 ]], shape=(2, 3), dtype=float32)
None</code></pre>
<h2 id="二、变量"><a href="#二、变量" class="headerlink" title="二、变量"></a>二、变量</h2><pre><code>通过使用变量类来创建。变量的定义还包括应该初始化的常量/随机值。</code></pre>
<pre><code>ta=tf.random.uniform([50,50],0,10,seed=0)
tb=tf.Variable(ta)
tc=tf.Variable(ta)

# 注意：变量通常在神经网络中表示权重和偏置。
# 权重变量使用正态分布随机初始化，均值为 0，标准差为 2，权重大小为 100×100。偏置由 100 个元素组成，每个元素初始化为 0。
weights=tf.Variable(tf.random.normal([100,100],stddev=2))
bias=tf.Variable(tf.zeros([100]),name=&#39;biases&#39;)

# 指定一个变量来初始化另一个变量
weight2=tf.Variable(weights.initialized_value(),name=&#39;w2&#39;)

# 变量的定义将指定变量如何被初始化，但是必须显式初始化所有的声明变量。
inital_op=tf.compat.v1.global_variables_initializer()

# 每个变量也可以在运行图中单独使用 tf.Variable.initializer 来初始化
bias.initializer

# 保存变量：使用 Saver 类来保存变量，定义一个 Saver 操作对象
# saver=tf.compat.v1.train.Saver() ???</code></pre>
<h2 id="三、占位符"><a href="#三、占位符" class="headerlink" title="三、占位符"></a>三、占位符</h2><pre><code>作用：用于将数据提供给计算图。
tf.placeholder(dtype,shape=None,name=None)
dtype 定占位符的数据类型，并且必须在声明占位符时指定。</code></pre>
<p>注意，与 Python/Numpy 序列不同，TensorFlow 序列不可迭代。<br>for i in tf.range(10) # error</p>
<h2 id="四、追加"><a href="#四、追加" class="headerlink" title="四、追加"></a>四、追加</h2><h2 id="TensorFlow基础架构"><a href="#TensorFlow基础架构" class="headerlink" title="TensorFlow基础架构"></a>TensorFlow基础架构</h2><h3 id="Session–会话控制"><a href="#Session–会话控制" class="headerlink" title="Session–会话控制"></a>Session–会话控制</h3><p>Session 是 TensorFlow 为了控制,和输出文件的执行的语句.<br>运行 session.run() 可以获得你的运算结果, 或者是你所要运算的部分.</p>
<pre><code>`# method 1
sess = tf.Session()
result = sess.run(product)
print(result)
sess.close()

# method 2
with tf.Session() as sess:
    result2 = sess.run(product)
    print(result2)`</code></pre>
<h3 id="Variable–变量"><a href="#Variable–变量" class="headerlink" title="Variable–变量"></a>Variable–变量</h3><p>在 Tensorflow 中，定义了某字符串是变量，它才是变量，这一点是与 Python 所不同的。</p>
<p>定义语法： state = tf.Variable()</p>
<pre><code>`import tensorflow as tf

state = tf.Variable(0, name=&#39;counter&#39;)

# 定义常量 one
one = tf.constant(1)

# 定义加法步骤 (注: 此步并没有直接计算)
new_value = tf.add(state, one)

# 将 State 更新成 new_value
update = tf.assign(state, new_value)
# 如果定义 Variable, 就一定要 initialize
init = tf.global_variables_initializer()

# 使用 Session
with tf.Session() as sess:
    sess.run(init)
    for _ in range(3):
        sess.run(update)
        print(sess.run(state))`</code></pre>
<p>注意：直接 print(state) 不起作用！！</p>
<p>一定要把 sess 的指针指向 state 再进行 print 才能得到想要的结果！</p>
<h3 id="Placeholder–传入值"><a href="#Placeholder–传入值" class="headerlink" title="Placeholder–传入值"></a>Placeholder–传入值</h3><p>placeholder 是 Tensorflow 中的占位符，暂时储存变量.</p>
<p>Tensorflow 如果想要从外部传入data, 那就需要用到 tf.placeholder(), 然后以这种形式传输数据 sess.run(***, feed_dict={input: **}).</p>
<pre><code>`import tensorflow as tf

#在 Tensorflow 中需要定义 placeholder 的 type ，一般为 float32 形式
input1 = tf.placeholder(tf.float32)
input2 = tf.placeholder(tf.float32)

# mul = multiply 是将input1和input2 做乘法运算，并输出为 output 
ouput = tf.multiply(input1, input2)
with tf.Session() as sess:
    print(sess.run(ouput, feed_dict=&#123;input1: [7.], input2: [2.]&#125;))
# [ 14.]`</code></pre>
<h3 id="激励函数–Activation-Function"><a href="#激励函数–Activation-Function" class="headerlink" title="激励函数–Activation Function"></a>激励函数–Activation Function</h3><p>神经网络两三层–任意激励函数均可<br>卷积神经网络–推荐激励函数Relu<br>循环神经网络–添加激励函数tanh</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/TensorFlow-3-%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/TensorFlow-3-%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">TensorFlow-3.程序结构</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-18 21:27:41" itemprop="dateCreated datePublished" datetime="2020-02-18T21:27:41+08:00">2020-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-18 21:13:45" itemprop="dateModified" datetime="2020-09-18T21:13:45+08:00">2020-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习和深度学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/TensorFlow/" itemprop="url" rel="index"><span itemprop="name">TensorFlow</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一、结构"><a href="#一、结构" class="headerlink" title="一、结构"></a>一、结构</h2><p>TensorFlow程序分为两个独立的部分:<br>    构建任何拟创建神经网络的蓝图，包括计算图的定义及其执行。<br>    图定义和执行的分开设计使得 TensorFlow 能够多平台工作以及并行执行，TensorFlow 也因此更加强大。</p>
<p>计算图：是包含节点和边的网络。本节定义所有要使用的数据，也就是张量（tensor）对象（常量、变量和占位符），同时定义要执行的所有计算，即运算操作对象（Operation Object，简称 OP）。</p>
<p>每个节点可以有零个或多个输入，但只有一个输出。网络中的节点表示对象（张量和运算操作），边表示运算操作之间流动的张量。计算图定义神经网络的蓝图，但其中的张量还没有相关的数值。</p>
<p>为了构建计算图，需要定义所有要执行的常量、变量和运算操作。</p>
<h2 id="二、代码"><a href="#二、代码" class="headerlink" title="二、代码"></a>二、代码</h2><pre><code>通过定义并执行计算图来实现两个向量相加：2-add.ipynb</code></pre>
<p>计算图的执行：使用会话对象来实现计算图的执行。会话对象封装了评估张量和操作对象的环境。这里真正实现了运算操作并将信息从网络的一层传递到另外一层。不同张量对象的值仅在会话对象中被初始化、访问和保存。在此之前张量对象只被抽象定义，在会话中才被赋予实际的意义。</p>
<p>注意，使用 TensorBoard 可视化图形是 TensorFlow 最有用的功能之一，特别是在构建复杂的神经网络时。我们构建的计算图可以在图形对象的帮助菜单下进行查看。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/TensorFlow-2-HelloWorld/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/TensorFlow-2-HelloWorld/" class="post-title-link" itemprop="url">TensorFlow-2.HelloWorld</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-18 21:25:36" itemprop="dateCreated datePublished" datetime="2020-02-18T21:25:36+08:00">2020-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-18 21:18:13" itemprop="dateModified" datetime="2020-09-18T21:18:13+08:00">2020-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习和深度学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/TensorFlow/" itemprop="url" rel="index"><span itemprop="name">TensorFlow</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>TensorFlow1.x和TensorFlow2.0函数区别：<a target="_blank" rel="noopener" href="https://docs.google.com/spreadsheets/d/1FLFJLzg7WNP6JHODX5q8BDgptKafq_slHpnHVbJIteQ/edit#gid=0">https://docs.google.com/spreadsheets/d/1FLFJLzg7WNP6JHODX5q8BDgptKafq_slHpnHVbJIteQ/edit#gid=0</a></p>
<p>代码：1-helloWorld.ipynb</p>
<pre><code># 级别 1 是提示，级别 2 是警告，级别 3 是错误
import os
os.environ[&#39;TF_CPP_MIN_LOG_LEVEL&#39;]=&#39;2&#39;</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/TensorFlow-1-%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/TensorFlow-1-%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">TensorFlow-1.介绍</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-18 21:24:09" itemprop="dateCreated datePublished" datetime="2020-02-18T21:24:09+08:00">2020-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-18 16:56:20" itemprop="dateModified" datetime="2020-09-18T16:56:20+08:00">2020-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习和深度学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/TensorFlow/" itemprop="url" rel="index"><span itemprop="name">TensorFlow</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>参考：<a target="_blank" rel="noopener" href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/">莫烦TensorFlow</a></p>
<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><pre><code>900百亿神经细胞组成了我们的生物神经网络，而它是通过刺激来产生新的联结，让信号能够
通过新的联结传递来形成反馈；
    人工神经网络一种典型模式就是通过训练数据来进行预测，而预测的结果不一定很好，所以就
通过正向或是反向传播来更新神经元，从而再形成一个好的神经系统。其在本质上，是一个能
让计算机处理和优化的数学模型。

    当今神经网络是是深度学习最流行的一种框架，它的基本原理就是梯度下降(Gradient Descent)
机制，其中的梯度就是我们大学所学的求导求微分。一般来说, 神经网络是一连串神经层所组成的把输入进行加工再输出的系统。</code></pre>
<p>开源深度学习库 TensorFlow 允许将深度神经网络的计算部署到任意数量的 CPU 或 GPU 的服务器、PC 或移动设备上，且只利用一个 TensorFlow API。你可能会问，还有很多其他的深度学习库，如 Torch、Theano、Caffe 和 MxNet，那 TensorFlow 与其他深度学习库的区别在哪里呢？包括 TensorFlow 在内的大多数深度学习库能够自动求导、开源、支持多种 CPU/GPU、拥有预训练模型，并支持常用的NN架构，如递归神经网络（RNN）、卷积神经网络（CNN）和深度置信网络（DBN）。</p>
<p>TensorFlow 则还有更多的特点，如下：<br>    支持所有流行语言，如 Python、C++、Java、R和Go。<br>    可以在多种平台上工作，甚至是移动平台和分布式平台。<br>    它受到所有云服务（AWS、Google和Azure）的支持。<br>    Keras——高级神经网络 API，已经与 TensorFlow 整合。<br>    与 Torch/Theano 比较，TensorFlow 拥有更好的计算图表可视化。<br>    允许模型部署到工业生产中，并且容易使用。<br>    有非常好的社区支持。<br>    TensorFlow 不仅仅是一个软件库，它是一套包括 TensorFlow，TensorBoard 和 TensorServing 的软件。</p>
<p>谷歌 research 博客列出了全球一些使用 TensorFlow 开发的有趣项目：</p>
<pre><code>Google 翻译运用了 TensorFlow 和 TPU（Tensor Processing Units）。
Project Magenta 能够使用强化学习模型生成音乐，运用了 TensorFlow。
澳大利亚海洋生物学家使用了 TensorFlow 来发现和理解濒临灭绝的海牛。
一位日本农民运用 TensorFlow 开发了一个应用程序，使用大小和形状等物理特性对黄瓜进行分类。</code></pre>
<h2 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h2><pre><code>$ conda --version

CPU 与 GPU 的对比：中央处理器（CPU）由对顺序串行处理优化的内核（4～8个）组成。图形处理器（GPU）具有大规模并行架构，由数千个更小且更有效的核芯（大致以千计）组成，能够同时处理多个任务。

$ conda create -n tensorflow python=3.5 # 虚拟环境
$ source activate tensorflow # 激活
$ source deactivate 
$ pip install tensorflow

$ conda install -c anaconda ipython # 安装ipython
$ conda install -channel=conda-forge nb_conda_kernels # 安装nb_conda_kernels
$ jupyter notebook # 启动

$ conda install dateutil</code></pre>
<h3 id="2-1-Linux下安装"><a href="#2-1-Linux下安装" class="headerlink" title="2.1 Linux下安装"></a>2.1 Linux下安装</h3><pre><code>官网：https://www.anaconda.com/distribution/#macos
参考：https://www.jianshu.com/p/742dc4d8f4c5

# Linux 下安装anaconda
$ wget https://repo.anaconda.com/archive/Anaconda3-2019.10-Linux-x86_64.sh
$ sh Anaconda3-2019.10-Linux-x86_64.sh
$ vi ~/.bashrc
  Anaconda3-2019.10-Linux-x86_64.sh


$ conda create -n tensorflow python=3.7
$ source activate tensorflow # 激活
$ source deactivate   # conda deactivate</code></pre>
<h3 id="2-2-Linux安装jupyter-notebook"><a href="#2-2-Linux安装jupyter-notebook" class="headerlink" title="2.2 Linux安装jupyter notebook"></a>2.2 Linux安装jupyter notebook</h3><pre><code># 本地访问Linux服务器上的jupyter notebook
$ conda install nb_conda

1. 生成配置文件
$ jupyter notebook --generate-config
生成了.jupyter/jupyter_notebook_config.py配置文件.

2. 打开python,生成密钥:</code></pre>
<pre><code>&gt;&gt;&gt;from notebook.auth import passwd

&gt;&gt;&gt;passwd()

#输入新的登陆密码（本地访问的时候使用）

#再次确认

#生成key，复制留存并修改到配置文件中去</code></pre>
<pre><code>3. 修改配置文件
$ vim  ~/.jupyter/jupyter_notebook_config.py</code></pre>
<pre><code>c.NotebookApp.ip=&#39;*&#39;                     # 就是设置所有ip地址皆可访问

c.NotebookApp.password = u&#39;sha:ce...     # 复制上步的那个密文key替换等号后面的内容，注意，有u&#39;

c.NotebookApp.open_browser = False       # 禁止自动打开浏览器

c.NotebookApp.port =8888                 # 指定一个可用端口,也可以是其他闲置的端口</code></pre>
<pre><code>4. 在服务器终端中执行jupyter notebook 并放入后台中
$ nohup jupyter notebook &amp;</code></pre>
<h3 id="2-3-Linux安装TensorFlow、cuda等"><a href="#2-3-Linux安装TensorFlow、cuda等" class="headerlink" title="2.3 Linux安装TensorFlow、cuda等"></a>2.3 Linux安装TensorFlow、cuda等</h3><pre><code>#安装指定 版本的TensorFlow
pip install tensorflow-gpu==1.9.0

# 安装的包
conda install cudatoolkit=9.0 -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/linux-64/
conda install cudnn=7.1.2 -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/linux-64/


1.检查CUDA版本：
使用：
nvcc -V
或：
cat /usr/local/cuda/version.txt

2.检查cuDNN版本：
cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2

3.检查TensorFlow版本：
直接使用pip list查看</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/LeetCode-10-%E5%9B%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/LeetCode-10-%E5%9B%BE/" class="post-title-link" itemprop="url">LeetCode-10-图</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-17 14:55:49" itemprop="dateCreated datePublished" datetime="2020-02-17T14:55:49+08:00">2020-02-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-11-05 16:12:10" itemprop="dateModified" datetime="2020-11-05T16:12:10+08:00">2020-11-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="十、图"><a href="#十、图" class="headerlink" title="十、图"></a>十、图</h2><h3 id="133-克隆图"><a href="#133-克隆图" class="headerlink" title="???133.克隆图"></a>???133.克隆图</h3><pre><code>链接：https://leetcode-cn.com/problems/clone-graph/

给你无向 连通 图中一个节点的引用，请你返回该图的 深拷贝（克隆）。

图中的每个节点都包含它的值 val（int） 和其邻居的列表（list[Node]）。

class Node &#123;
    public int val;
    public List&lt;Node&gt; neighbors;
&#125;</code></pre>
<p>题解一(dfs)：</p>
<pre><code>&quot;&quot;&quot;
# Definition for a Node.
class Node:
    def __init__(self, val = 0, neighbors = []):
        self.val = val
        self.neighbors = neighbors
&quot;&quot;&quot;
class Solution:
    def cloneGraph(self, node: &#39;Node&#39;) -&gt; &#39;Node&#39;:
        lookup=&#123;&#125;
        def dfs(node):
            # print(node.val)
            if not node:
                return
            if node in lookup:
                return lookup[node]
            clone=Node(node.val,[])
            lookup[node]=clone
            for n in node.neighbors:
                clone.neighbors.append(dfs(n))
            return clone
        return dfs(node)</code></pre>
<h3 id="200-岛屿数量"><a href="#200-岛屿数量" class="headerlink" title="200. 岛屿数量"></a>200. 岛屿数量</h3><pre><code>链接：https://leetcode-cn.com/problems/number-of-islands/

给你一个由 &#39;1&#39;（陆地）和 &#39;0&#39;（水）组成的的二维网格，请你计算网格中岛屿的数量。

岛屿总是被水包围，并且每座岛屿只能由水平方向和/或竖直方向上相邻的陆地连接形成。

此外，你可以假设该网格的四条边均被水包围。



示例 1：

输入：grid = [
  [&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;0&quot;],
  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;],
  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],
  [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;]
]
输出：1
示例 2：

输入：grid = [
  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],
  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],
  [&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],
  [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;]
]
输出：3


提示：

m == grid.length
n == grid[i].length
1 &lt;= m, n &lt;= 300
grid[i][j] 的值为 &#39;0&#39; 或 &#39;1&#39;</code></pre>
<p>题解一|DFS：</p>
<p>参考：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-islands/solution/dao-yu-lei-wen-ti-de-tong-yong-jie-fa-dfs-bian-li-/">https://leetcode-cn.com/problems/number-of-islands/solution/dao-yu-lei-wen-ti-de-tong-yong-jie-fa-dfs-bian-li-/</a></p>
<pre><code>class Solution:
    def numIslands(self, grid: List[List[str]]) -&gt; int:
        def helper(grid,i,j):
            if i&lt;0 or i&gt;=len(grid) or j&lt;0 or j&gt;=len(grid[0]) or grid[i][j]==&#39;0&#39; or grid[i][j]==&#39;2&#39;: # 判断是否在网格中
                return
            grid[i][j]=&#39;2&#39; # 避免重复遍历

            # 访问上、下、左、右四个相邻结点
            helper(grid,i-1,j) # 上
            helper(grid,i+1,j) # 下
            helper(grid,i,j-1) # 左
            helper(grid,i,j+1) # 右

        if not grid or len(grid[0])==0:
            return 0
        count=0
        for i in range(len(grid)):
            for j in range(len(grid[0])):
                if grid[i][j]==&#39;1&#39;:
                    count+=1
                    helper(grid,i,j)
        return count</code></pre>
<p>题解二|BFS|超时：</p>
<pre><code>class Solution:
    def numIslands(self, grid: List[List[str]]) -&gt; int:
        def bfs(grid,i,j):
            queue=[[i,j]]
            while queue:
                i,j=queue.pop(0)
                if 0 &lt;= i &lt; len(grid) and 0 &lt;= j &lt; len(grid[0]) and grid[i][j] ==&#39;1&#39;:
                    grid[i][j]==&#39;2&#39;
                    queue+=[[i+1,j],[i-1,j],[i,j+1],[i,j-1]]
        count=0
        for i in range(len(grid)):
            for j in range(len(grid[0])):
                # if grid[i][j]==&#39;0&#39; or grid[i][j]==&#39;2&#39;:
                #     continue
                if grid[i][j]==&#39;1&#39;:
                    bfs(grid,i,j)
                    count+=1
        return count</code></pre>
<h3 id="463-岛屿的周长"><a href="#463-岛屿的周长" class="headerlink" title="463. 岛屿的周长"></a>463. 岛屿的周长</h3><pre><code>链接：https://leetcode-cn.com/problems/island-perimeter/

给定一个包含 0 和 1 的二维网格地图，其中 1 表示陆地 0 表示水域。

网格中的格子水平和垂直方向相连（对角线方向不相连）。整个网格被水完全包围，但其中恰好有一个岛屿（或者说，一个或多个表示陆地的格子相连组成的岛屿）。

岛屿中没有“湖”（“湖” 指水域在岛屿内部且不和岛屿周围的水相连）。格子是边长为 1 的正方形。网格为长方形，且宽度和高度均不超过 100 。计算这个岛屿的周长。



示例 :

输入:
[[0,1,0,0],
 [1,1,1,0],
 [0,1,0,0],
 [1,1,0,0]]

输出: 16

解释: 它的周长是下面图片中的 16 个黄色的边：</code></pre>
<p>题解一|DFS：</p>
<p><img src="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/grid.jpg" alt="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/grid.jpg"></p>
<p>当我们的 dfs 函数因为「坐标 (r, c) 超出网格范围」返回的时候，实际上就经过了一条黄色的边；而当函数因为「当前格子是海洋格子」返回的时候，实际上就经过了一条蓝色的边。</p>
<pre><code>class Solution:
    def islandPerimeter(self, grid: List[List[int]]) -&gt; int:

        def dfs(grid,i,j):
            # if i&lt;0 or i&gt;=len(grid) or j&lt;0 or j&gt;=len(grid[0]):
            #     return 1
            if not (0 &lt;= i &lt; m and 0 &lt;= j &lt; n):
                return 1
            if grid[i][j]==0:
                return 1
            if grid[i][j]!=1:
                return 0
            grid[i][j]=2
            return dfs(grid,i-1,j)+dfs(grid,i+1,j)+dfs(grid,i,j-1)+dfs(grid,i,j+1)

        if not grid or len(grid[0])==0:
            return 0
        m=len(grid)
        n=len(grid[0])
        for x in range(m):
            for y in range(n):
                if grid[x][y]==1:
                    return dfs(grid,x,y)</code></pre>
<h3 id="695-岛屿的最大面积"><a href="#695-岛屿的最大面积" class="headerlink" title="695. 岛屿的最大面积"></a>695. 岛屿的最大面积</h3><pre><code>链接：https://leetcode-cn.com/problems/max-area-of-island/

给定一个包含了一些 0 和 1 的非空二维数组 grid 。

一个 岛屿 是由一些相邻的 1 (代表土地) 构成的组合，这里的「相邻」要求两个 1 必须在水平或者竖直方向上相邻。你可以假设 grid 的四个边缘都被 0（代表水）包围着。

找到给定的二维数组中最大的岛屿面积。(如果没有岛屿，则返回面积为 0 。)

示例 1:

[[0,0,1,0,0,0,0,1,0,0,0,0,0],
 [0,0,0,0,0,0,0,1,1,1,0,0,0],
 [0,1,1,0,1,0,0,0,0,0,0,0,0],
 [0,1,0,0,1,1,0,0,1,0,1,0,0],
 [0,1,0,0,1,1,0,0,1,1,1,0,0],
 [0,0,0,0,0,0,0,0,0,0,1,0,0],
 [0,0,0,0,0,0,0,1,1,1,0,0,0],
 [0,0,0,0,0,0,0,1,1,0,0,0,0]]
对于上面这个给定矩阵应返回 6。注意答案不应该是 11 ，因为岛屿只能包含水平或垂直的四个方向的 1 。

示例 2:

[[0,0,0,0,0,0,0,0]]
对于上面这个给定的矩阵, 返回 0。

注意: 给定的矩阵grid 的长度和宽度都不超过 50。</code></pre>
<p>题解一|DFS：</p>
<pre><code>class Solution:
    def maxAreaOfIsland(self, grid: List[List[int]]) -&gt; int:
        def dfs(grid,i,j):
            if not (0&lt;=i&lt;m and 0&lt;=j&lt;n):
                return 0
            if grid[i][j]!=1: # 注意这样判断，才能递归走到dfs
                return 0
            grid[i][j]=2
            return 1+dfs(grid,i+1,j)+dfs(grid,i-1,j)+dfs(grid,i,j+1)+dfs(grid,i,j-1)
        m=len(grid)
        n=len(grid[0])
        area=0
        if not grid or not n:
            return 0
        for i in range(m):
            for j in range(n):
                if grid[i][j]==1:
                    tmp=dfs(grid,i,j)
                    area=max(area,tmp)
        return area</code></pre>
<h3 id="827-最大人工岛"><a href="#827-最大人工岛" class="headerlink" title="827. 最大人工岛"></a>827. 最大人工岛</h3><pre><code>链接：https://leetcode-cn.com/problems/making-a-large-island/

在二维地图上， 0代表海洋， 1代表陆地，我们最多只能将一格 0 海洋变成 1变成陆地。

进行填海之后，地图上最大的岛屿面积是多少？（上、下、左、右四个方向相连的 1 可形成岛屿）

示例 1:

输入: [[1, 0], [0, 1]]
输出: 3
解释: 将一格0变成1，最终连通两个小岛得到面积为 3 的岛屿。
示例 2:

输入: [[1, 1], [1, 0]]
输出: 4
解释: 将一格0变成1，岛屿的面积扩大为 4。
示例 3:

输入: [[1, 1], [1, 1]]
输出: 4
解释: 没有0可以让我们变成1，面积依然为 4。
说明:

1 &lt;= grid.length = grid[0].length &lt;= 50
0 &lt;= grid[i][j] &lt;= 1</code></pre>
<p>题解一|DFS：</p>
<p>参考：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-islands/solution/dao-yu-lei-wen-ti-de-tong-yong-jie-fa-dfs-bian-li-/">https://leetcode-cn.com/problems/number-of-islands/solution/dao-yu-lei-wen-ti-de-tong-yong-jie-fa-dfs-bian-li-/</a></p>
<pre><code>class Solution:
    def largestIsland(self, grid: List[List[int]]) -&gt; int:
        def inArea(grid,i,j):
            return (0&lt;=i&lt;m and 0&lt;=j&lt;n)

        def area(grid,i,j,value): # value代表当前岛屿的编号,求得单个岛屿的面积
            if not inArea(grid,i,j):
                return 0
            if grid[i][j]!=1:
                return 0
            grid[i][j]=value
            return 1+area(grid,i+1,j,value)+area(grid,i-1,j,value)+area(grid,i,j+1,value)+area(grid,i,j-1,value)

        def thisArea(grid,i,j,hash): # 将(i,j)填海后，最大岛屿的面积
            if grid[i][j]!=0:
                return hash[grid[i][j]]
            res=0
            adjs=set()
            if inArea(grid,i-1,j) and grid[i-1][j]&gt;0: # 格子不越界，格子是陆地
                adjs.add(grid[i-1][j])
            if inArea(grid,i+1,j) and grid[i+1][j]&gt;0:
                adjs.add(grid[i+1][j])
            if inArea(grid,i,j-1) and grid[i][j-1]&gt;0:
                adjs.add(grid[i][j-1])
            if inArea(grid,i,j+1) and grid[i][j+1]&gt;0:
                adjs.add(grid[i][j+1])

            for each in adjs:
                res+=hash[each]
            return res+1

        m,n=len(grid),len(grid[0])
        value=2
        hash=&#123;&#125;
        res=0

        for i in range(m):
            for j in range(n):
                if grid[i][j]==1:
                    tmp=area(grid,i,j,value)
                    hash[value]=tmp
                    value+=1

        for i in range(m): # DFS 遍历海洋格子，观察每个海洋格子相邻的陆地格子。
            for j in range(n):
                tmp=thisArea(grid,i,j,hash) 
                res=max(res,tmp)
        return res</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-12-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-12-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/" class="post-title-link" itemprop="url">数据结构与算法-12-二叉搜索树</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-05 21:37:06" itemprop="dateCreated datePublished" datetime="2020-02-05T21:37:06+08:00">2020-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-26 20:03:41" itemprop="dateModified" datetime="2020-08-26T20:03:41+08:00">2020-08-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一、二叉搜索树"><a href="#一、二叉搜索树" class="headerlink" title="一、二叉搜索树"></a>一、二叉搜索树</h2><p>二叉搜索树（Binary Search Tree）是指一棵空树或具有如下性质的二叉树：</p>
<pre><code>若任意节点的左子树不空，则左子树上所有节点的值均小于它的根节点的值
若任意节点的右子树不空，则右子树上所有节点的值均大于它的根节点的值
任意节点的左、右子树也分别为二叉搜索树
没有键值相等的节点</code></pre>
<p>基于以上性质，我们可以得出一个二叉搜索树的特性：二叉搜索树的中序遍历结果为递增序列。</p>
<h2 id="二、二叉搜索树的后序遍历"><a href="#二、二叉搜索树的后序遍历" class="headerlink" title="二、二叉搜索树的后序遍历"></a>二、二叉搜索树的后序遍历</h2><pre><code>输入一个整数数组，判断该数组是不是某二叉搜索树的后序遍历的结果。如果是则输出Yes,否则输出No。假设输入的数组的任意两个数字都互不相同。

例如：输入数组&#123;5,7,6,9,11,10,8&#125;，则返回Yes，因为这个整数序列是下图二叉搜索树的后序遍历结果。
       8
      / \
     6   10
    / \  / \
   5  7 9   11

如果输入数组是&#123;7,4,6,5&#125;则由于没有哪个二叉搜索树的后序遍历结果是这个序列，因此返回False</code></pre>
<p>递归：<br>    二叉树的后序遍历特点：序列的最后一个值为二叉树的根 root ；二叉搜索树左子树值都比 root 小，右子树值都比 root 大。</p>
<pre><code>所以：
1、确定找出 root；

2、遍历序列（除去root结点），找到第一个大于root的位置，则该位置左边为左子树，右边为右子树；

3、遍历右子树，若发现有小于root的值，则是不符合二叉树搜索树的规则的，则直接返回false；

4、分别判断左子树和右子树是否仍是二叉搜索树（即递归步骤1、2、3）。</code></pre>
<pre><code>def VerifySquenceOfBST(self, nums):
    if nums is None or len(nums) &lt; 1:
        return False
    index = 0
    for i in range(len(nums)):
        if nums[i] &gt; nums[-1]:
            index = i
            break

    for j in range(index, len(nums)):
        if nums[j] &lt; nums[-1]:
            return False

    left = True
    right = True

    if len(nums[:index]) &gt; 0:
        left = self.VerifySquenceOfBST(nums[:index])
    if len(nums[index:-1]) &gt; 0:
        right = self.VerifySquenceOfBST(nums[index:-1])

    return left and right
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-10-%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-10-%E6%A0%91/" class="post-title-link" itemprop="url">数据结构与算法-10-树</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-02 22:12:32" itemprop="dateCreated datePublished" datetime="2020-02-02T22:12:32+08:00">2020-02-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-26 20:03:47" itemprop="dateModified" datetime="2020-08-26T20:03:47+08:00">2020-08-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>参考文章：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/bjwu/p/9284534.html">https://www.cnblogs.com/bjwu/p/9284534.html</a></p>
<h2 id="一、如何遍历一棵树？"><a href="#一、如何遍历一棵树？" class="headerlink" title="一、如何遍历一棵树？"></a>一、如何遍历一棵树？</h2><pre><code>有两种通用的遍历树的策略：</code></pre>
<p>1、深度优先搜索（DFS）</p>
<pre><code>在这个策略中，我们采用深度作为优先级，以便从跟开始一直到达某个确定的叶子，然后再返回根到达另一个分支。

深度优先搜索策略又可以根据根节点、左孩子和右孩子的相对顺序被细分为先序遍历，中序遍历和后序遍历。</code></pre>
<p>2、宽度优先搜索（BFS）</p>
<pre><code>我们按照高度顺序一层一层的访问整棵树，高层次的节点将会比低层次的节点先被访问到。</code></pre>
<p>下图中的顶点按照访问的顺序编号，按照 1-2-3-4-5 的顺序来比较不同的策略。<br><img src="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/tree5.png" alt="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/tree5.png"></p>
<h2 id="二、二叉树的前序遍历"><a href="#二、二叉树的前序遍历" class="headerlink" title="二、二叉树的前序遍历"></a>二、二叉树的前序遍历</h2><p>递归：</p>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:
    def preorderTraversal(self, root: TreeNode) -&gt; List[int]:
        ans=[]
        if root:
            ans.append(root.val)
            ans+=self.preorderTraversal(root.left) # 这儿我之前直接用append，出来的结果会列表中嵌套列表
            ans+=self.preorderTraversal(root.right)
        return ans</code></pre>
<p>迭代–辅助栈（后进先出）：</p>
<pre><code>1、把二叉树的根节点 root 放进栈。

2、如果栈不为空，从栈中取出一个节点，把该节点放入容器的尾部；如果该节点的右子树不为空，则把有节点放入栈；如果该节点的左子树不为空，则把左子树放入栈中。

3、一直重复步骤 2 ，直到栈为空，此时遍历结束。</code></pre>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:
    def preorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        stack=[]
        stack.append(root)
        if root is None:
            return res
        while stack:
            tmp=stack.pop()
            res.append(tmp.val)
            if tmp.right: # 栈后进先出，所以先放右节点
                stack.append(tmp.right)
            if tmp.left:
                stack.append(tmp.left)
        return res</code></pre>
<p>迭代：和上面代码稍有差异，但是不如上面直观。</p>
<p>前序遍历，我们使用栈stack，由于前序遍历的顺序是中左右，所以我们每次先打印当前结点curr，并将右子结点push到栈中，然后将左子结点设为当前结点。入栈和出栈条件（当前结点curr不为None时，每一次循环将当前结点curr入栈；当前结点curr为None时，则出栈一个结点）以及循环结束条件（整个循环在stack和curr皆为None的时候结束），与中序遍历一模一样。</p>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:
    def preorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        stack=[]
        curr=root
        while stack or curr:
            if curr:
                res.append(curr.val)
                stack.append(curr.right)
                curr=curr.left
            else:
                curr=stack.pop()
        return res</code></pre>
<h2 id="三、二叉树的中序遍历"><a href="#三、二叉树的中序遍历" class="headerlink" title="三、二叉树的中序遍历"></a>三、二叉树的中序遍历</h2><p>递归：</p>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:
    def inorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        if root:
            if root.left: # 其实这里不用再判断一次，因为递归时已经判断了。
                res+=(self.inorderTraversal(root.left))
            res.append(root.val)
            if root.right:
                res+=self.inorderTraversal(root.right)
        return res</code></pre>
<pre><code>class Solution:
    def inorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        if root:
            res=self.inorderTraversal(root.left) # 注意不能使用append,否则结果是[1,[3],2]，而不是[1,3,2]
            res.append(root.val)
            res+=self.inorderTraversal(root.right)
        return res</code></pre>
<p>更加简洁：</p>
<pre><code>class Solution:
    def inorderTraversal(self, root):
        if not root:
            return [] 
        return self.inorderTraversal(root.left) + [root.val] + self.inorderTraversal(root.right)</code></pre>
<p>递归–辅助栈：</p>
<p>对于中序遍历的循环实现，每次将当前结点(curr)的左子结点push到栈中，直到当前结点(curr)为None。这时，pop出栈顶的第一个元素，设其为当前结点，并输出该结点的value值，且开始遍历该结点的右子树。</p>
<p>规律为：当前结点curr不为None时，每一次循环将当前结点curr入栈；当前结点curr为None时，则出栈一个结点，且打印出栈结点的value值。整个循环在stack和curr皆为None的时候结束。</p>
<pre><code>1、进入 while 循环，接着把根节点及其所有左子节点放入栈中。

2、从栈中取出一个节点，把该节点放入容器的尾部；如果该节点的右子节点不为空，则把右子节点及其右子节点的所有左子节点放入队列。

3、一直重复步骤 2 ，直到栈为空并且当前节点也为空则退出循环。</code></pre>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:
    def inorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        stack=[]
        while root or stack:
            if root:
                stack.append(root)
                root=root.left
            else:
                root=stack.pop()
                res.append(root.val)
                root=root.right
        return res</code></pre>
<p>同上：</p>
<pre><code>class Solution:
    def inorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        stack=[]
        curr=root
        while stack or curr:
            if curr:
                stack.append(curr)
                curr=curr.left
            else:
                curr=stack.pop()
                res.append(curr.val)
                curr=curr.right
        return res</code></pre>
<h2 id="四、二叉树的后序遍历"><a href="#四、二叉树的后序遍历" class="headerlink" title="四、二叉树的后序遍历"></a>四、二叉树的后序遍历</h2><p>递归：</p>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:
    def postorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        if root:
            res=self.postorderTraversal(root.left)
            res+=self.postorderTraversal(root.right)
            res.append(root.val)
        return res</code></pre>
<p>递归–辅助栈：</p>
<p>1、把二叉树的根节点 root 放进栈。</p>
<p>2、如果栈不为空，从栈中取出一个节点，把该节点插入到容器的头部。；如果该节点的左子树不为空，则把该左子树放入栈中；如果该节点的右子树不为空，则把右子树放入栈中。，</p>
<p>注意，之前的前序遍历和中序遍历，我们都是用 ArrayList 容器，并且是把节点插入到容器的尾部，这就是后序遍历的不同点。</p>
<p>3、一直重复步骤 2 ，直到栈为空，此时遍历结束。</p>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:
    def postorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        stack=[]
        if root is None:
            return res
        stack.append(root)
        while stack:
            tmp=stack.pop()
            res.insert(0,tmp.val)
            if tmp.left:
                stack.append(tmp.left)
            if tmp.right:
                stack.append(tmp.right)
        return res</code></pre>
<p>递归：</p>
<p>参考：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/binary-tree-postorder-traversal/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by--34/">https://leetcode-cn.com/problems/binary-tree-postorder-traversal/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by--34/</a></p>
<p>如果当前节点的右节点和上一次遍历的节点相同，那就表明当前是从右节点过来的了。</p>
<pre><code>class Solution:
    def postorderTraversal(self, root: TreeNode) -&gt; List[int]:
        res=[]
        stack=[]
        cur=root
        last=None

        while cur or stack:
            if cur:
                stack.append(cur)
                cur=cur.left
            else:
                tmp=stack[-1]
                # 是否变到右子树
                if tmp.right and tmp.right !=last:
                    cur=tmp.right
                else:
                    res.append(tmp.val)
                    last=tmp
                    stack.pop()
        return res
</code></pre>
<h2 id="五、二叉树的层次遍历（即逐层地，从左到右访问所有节点）"><a href="#五、二叉树的层次遍历（即逐层地，从左到右访问所有节点）" class="headerlink" title="五、二叉树的层次遍历（即逐层地，从左到右访问所有节点）"></a>五、二叉树的层次遍历（即逐层地，从左到右访问所有节点）</h2><p>递归：</p>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:

    def levelOrder(self, root: TreeNode) -&gt; List[List[int]]:
        res=[]

        def helper(node,depth):
            if not node:
                return
            if len(res)==depth:
                res.append([])
            res[depth].append(node.val)
            helper(node.left,depth+1)
            helper(node.right,depth+1)
        helper(root,0)
        return res</code></pre>
<p>迭代：</p>
<p>思想是采用广度优先遍历，借助一个辅助队列，步骤如下：</p>
<p>1、把二叉树的根节点 root 放进队列。</p>
<p>2、如果队列不为空，取出队列的一个节点，把这个节点的左右孩子放进队列中(为空的话就不用放)，然后打印这个节点。</p>
<p>3、一直重复步骤 2 ，直到队列为空，此时遍历结束。</p>
<pre><code># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:

    def levelOrder(self, root: TreeNode) -&gt; List[List[int]]:
        res=[]
        queue=[]
        if root is None:
            return res
        queue.append(root)
        while queue:
            tmp=queue[0]
            res.append(tmp.val)
            if tmp.left:
                queue.append(tmp.left)
            if tmp.right:
                queue.append(tmp.right)
        return res</code></pre>
<pre><code>from collections import deque
class Solution:

    def levelOrder(self, root: TreeNode) -&gt; List[List[int]]:
        if root is None:
            return 
        res=[]
        queue=deque() # queue=[]
        queue.append(root)
        while len(queue)&gt;0:
            p=queue.popleft() # p=queue.pop(0)
            res.append(p.val)

            if p.left:
                queue.append(p.left)
            if p.right:
                queue.append(p.right)

        return res

预期输出：[[3],[9,20],[15,7]]
实际输出：[3, 9, 20, 15, 7]

所以，要想得到预期输出，需要增加深度。</code></pre>
<pre><code>class Solution:

    def levelOrder(self, root: TreeNode) -&gt; List[List[int]]:
        if root is None:
            return 
        res=[]
        queue=[root] # 不能使用这个queue.append([root])
        depth=0

        while queue:
            res.append([])
            for i in range(len(queue)):
                node=queue.pop(0)
                res[depth].append(node.val)
                if node.left:
                    queue.append(node.left)
                if node.right:
                    queue.append(node.right)
            depth+=1

        return res</code></pre>
<pre><code>class Solution:
    def levelOrder(self, root: TreeNode) -&gt; List[List[int]]:
        if not root: return []
        res = []
        cur_level = [root]
        while cur_level:
            tmp = []
            next_level = []
            for node in cur_level:
                tmp.append(node.val)
                if node.left:
                    next_level.append(node.left)
                if node.right:
                    next_level.append(node.right)
            res.append(tmp)
            cur_level = next_level
        return res</code></pre>
<h2 id="六、求二叉树中任意两个结点的距离"><a href="#六、求二叉树中任意两个结点的距离" class="headerlink" title="六、求二叉树中任意两个结点的距离"></a>六、求二叉树中任意两个结点的距离</h2><p>步骤：</p>
<pre><code>（1）计算根到第一个结点的距离；
（2）计算根到第二个结点的距离；
（3）计算最近公共祖先lca；
（4）计算根到lca结点的距离；
结果为(1) + (2) - 2 * (4)，因为重复计算了两次的从跟到lca结点的距离；</code></pre>
<pre><code>class Node(object):
    def __init__(self, value=0):
        self.value = value
        self.left = None
        self.right = None


def get_path_length(root, node, path):
    &#39;&#39;&#39;
    计算根到结点node的距离
    :param root: 根
    :param node: 结点node
    :param path: 距离
    :return:
    &#39;&#39;&#39;
    if not root:
        return 0
    if root.value == node:
        return path
    else:
        return get_path_length(root.left, node, path + 1) or get_path_length(root.right, node, path + 1)


def find_lca(root, node1, node2):
    &#39;&#39;&#39;
    找到node1和node2的最近公共祖先lca
    :param root:
    :param node1:
    :param node2:
    :return:
    &#39;&#39;&#39;
    if root is None:
        return None
    if root.value == node1 or root.value == node2:
        return root
    left = find_lca(root.left, node1, node2)
    right = find_lca(root.right, node1, node2)
    if left and right:
        return root
    elif left:
        return left
    elif right:
        return right
    else:
        return None


def find_distance(root, node1, node2):
    &#39;&#39;&#39;
    计算任意两个结点node1和node2之间的距离
    :param root:
    :param node1:
    :param node2:
    :return:
    &#39;&#39;&#39;
    x = get_path_length(root, node1, 0)
    y = get_path_length(root, node2, 0)
    lca = find_lca(root, node1, node2).value
    lca_dis = get_path_length(root, lca, 0)
    return (x + y) - 2 * lca_dis


if __name__ == &#39;__main__&#39;:
    root = Node(1)
    root.left = Node(2)
    root.right = Node(3)
    root.left.left = Node(4)
    root.right.right = Node(7)
    root.right.left = Node(6)
    root.left.right = Node(5)
    root.right.left.right = Node(8)
    dist = find_distance(root, 4, 5)
    print(&quot;Distance between node &#123;&#125; &amp; &#123;&#125;: &#123;&#125;&quot;.format(4, 5, dist))
    dist = find_distance(root, 4, 6)
    print(&quot;Distance between node &#123;&#125; &amp; &#123;&#125;: &#123;&#125;&quot;.format(4, 6, dist))
    dist = find_distance(root, 3, 4)
    print(&quot;Distance between node &#123;&#125; &amp; &#123;&#125;: &#123;&#125;&quot;.format(3, 4, dist))
    dist = find_distance(root, 2, 4)
    print(&quot;Distance between node &#123;&#125; &amp; &#123;&#125;: &#123;&#125;&quot;.format(2, 4, dist))
    dist = find_distance(root, 8, 5)
    print(&quot;Distance between node &#123;&#125; &amp; &#123;&#125;: &#123;&#125;&quot;.format(8, 5, dist))</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://gongyanli.com/LeetCode-8-%E4%B8%AD%E4%BD%8D%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lilly">
      <meta itemprop="description" content="Up in the wind!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="茉莉Python">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/LeetCode-8-%E4%B8%AD%E4%BD%8D%E6%95%B0/" class="post-title-link" itemprop="url">LeetCode-8-中位数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-02 15:28:41" itemprop="dateCreated datePublished" datetime="2020-02-02T15:28:41+08:00">2020-02-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-18 22:37:05" itemprop="dateModified" datetime="2020-08-18T22:37:05+08:00">2020-08-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="八、中位数"><a href="#八、中位数" class="headerlink" title="八、中位数"></a>八、中位数</h2><p>首先假设我们的变量都是 int 值，二分查找中我们需要根据 start 和 end 求中点，正常情况下加起来除以 2 即可。</p>
<pre><code>int mid = (start + end) / 2</code></pre>
<p>但这样有一个缺点，我们知道int的最大值是 Integer.MAX_VALUE ，也就是2147483647（2^31-1）。那么有一个问题，如果 start = 2147483645，end = 2147483645，虽然 start 和 end都没有超出最大值，但是如果利用上边的公式，加起来的话就会造成溢出，从而导致mid计算错误。</p>
<p>解决的一个方案就是利用数学上的技巧，我们可以加一个 start 再减一个 start 将公式变形：</p>
<pre><code>(start + end) / 2 = (start + end + start - start) / 2 = start + (end - start) / 2</code></pre>
<p>然后当时和同学看到jdk源码中，求mid的方法如下，通过移位实现了除以2：</p>
<pre><code>int mid = (start + end) &gt;&gt;&gt; 1</code></pre>
<p>补码：</p>
<p>其实问题的关键就是这里了&gt;&gt;&gt; ，我们知道还有一种右移是&gt;&gt;。区别在于&gt;&gt;为有符号右移，右移以后最高位保持原来的最高位。而&gt;&gt;&gt;这个右移的话最高位补 0。</p>
<p>所以这里其实利用到了整数的补码形式，最高位其实是符号位，所以当 start + end 溢出的时候，其实本质上只是符号位收到了进位，而&gt;&gt;&gt;这个右移不仅可以把符号位右移，同时最高位只是补零，不会对数字的大小造成影响。</p>
<p>但&gt;&gt;有符号右移就会出现问题了，事实上 JDK6 之前都用的&gt;&gt;，这个 BUG 在 java 里竟然隐藏了十年之久。</p>
<p><img src="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/median2.png" alt="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/median2.png"><br><img src="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/median3.png" alt="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/median3.png"><br><img src="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/median4.png" alt="https://gypsy-1255824480.cos.ap-beijing.myqcloud.com/blog/median4.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Lilly</p>
  <div class="site-description" itemprop="description">Up in the wind!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">132</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">45</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lilly</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
